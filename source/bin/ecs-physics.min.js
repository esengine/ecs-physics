window.physics={},window.__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();var __values=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],i=0;return e?e.call(t):{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}}};!function(t){!function(t){t[t.none=0]="none",t[t.all=Number.MAX_VALUE]="all",t[t.cat1=1]="cat1",t[t.cat2=2]="cat2",t[t.cat3=4]="cat3",t[t.cat4=8]="cat4",t[t.cat5=16]="cat5",t[t.cat6=32]="cat6",t[t.cat7=64]="cat7",t[t.cat8=128]="cat8",t[t.cat9=256]="cat9",t[t.cat10=512]="cat10",t[t.cat11=1024]="cat11",t[t.cat12=2048]="cat12",t[t.cat13=4096]="cat13",t[t.cat14=8192]="cat14",t[t.cat15=16384]="cat15",t[t.cat16=32768]="cat16",t[t.cat17=65536]="cat17",t[t.cat18=131072]="cat18",t[t.cat19=262144]="cat19",t[t.cat20=524288]="cat20",t[t.cat21=1048576]="cat21",t[t.cat22=2097152]="cat22",t[t.cat23=4194304]="cat23",t[t.cat24=8388608]="cat24",t[t.cat25=16777216]="cat25",t[t.cat26=33554432]="cat26",t[t.cat27=67108864]="cat27",t[t.cat28=134217728]="cat28",t[t.cat29=268435456]="cat29",t[t.cat30=536870912]="cat30",t[t.cat31=1073741824]="cat31"}(t.Category||(t.Category={}));var e=function(){return function(){}}();t.FixtureProxy=e;var i=function(){function e(i,r,n){void 0===n&&(n=null),this.body=i,this.userData=n,this.shape=r.clone(),this.fixtureId=e._fixtureIdCounter++,this._collisonCategories=t.Settings.defaultFixtureCollisionCategories,this._collidesWith=t.Settings.defaultFixtureCollidesWith,this._collisionGroup=0,this._colisionIgnores=new Set,this.ignoreCCDWith=t.Settings.defaultFixtureIgnoreCCDWith,this.friction=.2,this.restitution=0}return Object.defineProperty(e.prototype,"collisionGroup",{get:function(){return this._collisionGroup},set:function(t){this._collisionGroup!=t&&(this._collisionGroup=t,this.refilter())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collidesWith",{get:function(){return this._collidesWith},set:function(t){this._collidesWith!=t&&(this._collidesWith=t,this.refilter())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collisionCategories",{get:function(){return this._collisonCategories},set:function(t){this._collisonCategories!=t&&(this._collisonCategories=t,this.refilter())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSensor",{get:function(){return this._isSensor},set:function(t){null!=this.body&&(this.body.isAwake=!0),this._isSensor=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"friction",{get:function(){return this._friction},set:function(t){console.assert(!Number.isNaN(t)),this._friction=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"restitution",{get:function(){return this._restitution},set:function(t){console.assert(!Number.isNaN(t)),this._restitution=t},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.isDisposed},e.prototype.restoreCollisionWith=function(t){this._colisionIgnores.has(t.fixtureId)&&(this._colisionIgnores.delete(t.fixtureId),this.refilter())},e.prototype.ignoreCollisionWith=function(t){this._colisionIgnores.has(t.fixtureId)||(this._colisionIgnores.add(t.fixtureId),this.refilter())},e.prototype.isFixtureIgnored=function(t){return this._colisionIgnores.has(t.fixtureId)},e.prototype.refilter=function(){for(var t=this.body.contactList;null!=t;){var e=t.contact,i=e.fixtureA,r=e.fixtureB;i!=this&&r!=this||(e.filterFlag=!0),t=t.next}var n=this.body._world;if(null!=n)n.contactManager.broadPhase},e}();t.Fixture=i}(physics||(physics={})),function(t){var e=function(){function e(){}return e.maxFloat=3.402823466e38,e.epsilon=1.192092896e-7,e.pi=3.14159265359,e.defaultFixtureCollisionCategories=t.Category.cat1,e.defaultFixtureCollidesWith=t.Category.all,e.defaultFixtureIgnoreCCDWith=t.Category.none,e.linearSlop=.005,e.polygonRadius=2*e.linearSlop,e.maxPolygonVertices=8,e.useConvexHullPolygons=!0,e}();t.Settings=e}(physics||(physics={})),function(t){var e=function(){return function(){}}();t.RayCastInput=e;var i=function(){return function(){}}();t.RayCastOutput=i,function(t){t[t.circles=0]="circles",t[t.faceA=1]="faceA",t[t.faceB=2]="faceB"}(t.ManifoldType||(t.ManifoldType={}));var r=function(){return function(){}}();t.Manifold=r;var n=function(){return function(){}}();t.ManifoldPoint=n;var o=function(){return function(){}}();t.ContactID=o;var s=function(){return function(){}}();t.ContactFeature=s;var a=function(){function e(t,e){this.lowerBound=t,this.upperBound=e}return Object.defineProperty(e.prototype,"width",{get:function(){return this.upperBound.x-this.lowerBound.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.upperBound.y-this.lowerBound.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return es.Vector2.add(this.lowerBound,this.upperBound).multiplyScaler(.5)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extents",{get:function(){return es.Vector2.subtract(this.upperBound,this.lowerBound).multiplyScaler(.5)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"perimeter",{get:function(){return 2*(this.upperBound.x-this.lowerBound.x+(this.upperBound.y-this.lowerBound.y))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vertices",{get:function(){var e=new t.Vertices;return e.push(this.upperBound),e.push(new es.Vector2(this.upperBound.x,this.lowerBound.y)),e.push(this.lowerBound),e.push(new es.Vector2(this.lowerBound.x,this.upperBound.y)),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"q1",{get:function(){return new e(this.center,this.upperBound)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"q2",{get:function(){return new e(new es.Vector2(this.lowerBound.x,this.center.y),new es.Vector2(this.center.x,this.upperBound.y))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"q3",{get:function(){return new e(this.lowerBound,this.center)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"q4",{get:function(){return new e(new es.Vector2(this.center.x,this.lowerBound.y),new es.Vector2(this.upperBound.x,this.center.y))},enumerable:!0,configurable:!0}),e.prototype.isValid=function(){var t=es.Vector2.subtract(this.upperBound,this.lowerBound),e=t.x>=0&&t.y>=0;return e=e&&this.lowerBound.isValid()&&this.upperBound.isValid()},e.prototype.combine=function(t){this.lowerBound=es.Vector2.min(this.lowerBound,t.lowerBound),this.upperBound=es.Vector2.max(this.upperBound,t.upperBound)},e.prototype.contains=function(t){var e=!0;return e=(e=(e=(e=e&&this.lowerBound.x<=t.lowerBound.x)&&this.lowerBound.y<=t.lowerBound.y)&&t.upperBound.x<=this.upperBound.x)&&t.upperBound.y<=this.upperBound.y},e.testOverlap=function(t,e){var i=es.Vector2.subtract(e.lowerBound,t.upperBound),r=es.Vector2.subtract(t.lowerBound,e.upperBound);return!(i.x>0||i.y>0)&&!(r.x>0||r.y>0)},e}();t.AABB=a}(physics||(physics={})),function(t){var e=function(){function e(){this.vertices=new t.Vertices}return e.prototype.set=function(e,i){switch(e.shapeType){case t.ShapeType.circle:var r=e;this.vertices.length=0,this.vertices.push(r.position),this.radius=r.radius;break;case t.ShapeType.polygon:var n=e;this.vertices.length=0;for(var o=0;o<n.vertices.length;o++)this.vertices.push(n.vertices[o]);this.radius=n.radius;break;case t.ShapeType.chain:break;case t.ShapeType.edge:var s=e;this.vertices.length=0,this.vertices.push(s.vertex1),this.vertices.push(s.vertex2),this.radius=s.radius;break;default:console.assert(!1)}},e}();t.DistanceProxy=e}(physics||(physics={})),function(t){var e=function(){function t(){}return t.prototype.isLeaf=function(){return this.child1==i.nullNode},t}();t.TreeNode=e;var i=function(){function t(){this._raycastStack=[],this._queryStack=[],this._root=t.nullNode,this._nodeCapacity=16,this._nodeCount=0,this._nodes=[];for(var i=0;i<this._nodeCapacity-1;++i)this._nodes[i]=new e,this._nodes[i].parentOrNext=i+1,this._nodes[i].height=1;this._nodes[this._nodeCapacity-1]=new e,this._nodes[this._nodeCapacity-1].parentOrNext=t.nullNode,this._nodes[this._nodeCapacity-1].height=1,this._freeList=0}return Object.defineProperty(t.prototype,"height",{get:function(){return this._root==t.nullNode?0:this._nodes[this._root].height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"areaRatio",{get:function(){if(this._root==t.nullNode)return 0;for(var e=this._nodes[this._root].aabb.perimeter,i=0,r=0;r<this._nodeCapacity;++r){var n=this._nodes[r];n.height<0||(i+=n.aabb.perimeter)}return i/e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxBalance",{get:function(){for(var t=0,e=0;e<this._nodeCapacity;++e){var i=this._nodes[e];if(!(i.height<=1)){console.assert(0==i.isLeaf());var r=i.child1,n=i.child2,o=Math.abs(this._nodes[n].height-this._nodes[r].height);t=Math.max(t,o)}}return t},enumerable:!0,configurable:!0}),t.prototype.addProxy=function(t,e){},t.nullNode=-1,t}();t.DynamicTree=i}(physics||(physics={})),function(t){var e=function(){return function(){}}();t.DynamicTreeBroadPhase=e}(physics||(physics={})),function(t){var e=function(){return function(){this.proxyA=new t.DistanceProxy,this.proxyB=new t.DistanceProxy}}();t.TOIInput=e,function(t){t[t.unknown=0]="unknown",t[t.failed=1]="failed",t[t.overlapped=2]="overlapped",t[t.touching=3]="touching",t[t.seperated=4]="seperated"}(t.TOIOutputState||(t.TOIOutputState={}))}(physics||(physics={})),function(t){var e,i=function(){function t(){}return t.equals=function(t,e){return t.area==e.area&&t.mass==e.mass&&t.centroid==e.centroid&&t.inertia==e.inertia},t.notEquals=function(e,i){return!t.equals(e,i)},t.prototype.equals=function(e){return t.equals(this,e)},t}();t.MassData=i,function(t){t[t.unknown=-1]="unknown",t[t.circle=0]="circle",t[t.edge=1]="edge",t[t.polygon=2]="polygon",t[t.chain=3]="chain",t[t.typeCount=4]="typeCount"}(e=t.ShapeType||(t.ShapeType={}));var r=function(){function t(t){this._density=t,this.shapeType=e.unknown}return Object.defineProperty(t.prototype,"density",{get:function(){return this._density},set:function(t){console.assert(t>=0),this._density=t,this.computeProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this._radius},set:function(t){console.assert(t>=0),this._radius=t,this._2radius=this._radius*this._radius,this.computeProperties()},enumerable:!0,configurable:!0}),t.prototype.compareTo=function(t){return!1},t}();t.Shape=r}(physics||(physics={})),function(t){var e=function(e){function i(i,r){void 0===i&&(i=0),void 0===r&&(r=0);var n=e.call(this,r)||this;return console.assert(i>=0),console.assert(r>=0),n.shapeType=t.ShapeType.circle,n._position=es.Vector2.zero,n.radius=i,n}return __extends(i,e),Object.defineProperty(i.prototype,"childCount",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t,this.computeProperties()},enumerable:!0,configurable:!0}),i.prototype.testPoint=function(e,i){var r=es.Vector2.add(e.p,t.MathUtils.mul_rv(e.q,this.position)),n=es.Vector2.subtract(i,r);return es.Vector2.dot(n,n)<=this._2radius},i.prototype.rayCast=function(e,i,r,n){var o=es.Vector2.add(r.p,t.MathUtils.mul_rv(r.q,this.position)),s=es.Vector2.subtract(i.point1,o),a=es.Vector2.dot(s,s)-this._2radius,c=es.Vector2.subtract(i.point2,i.point1),u=es.Vector2.dot(s,c),h=es.Vector2.dot(c,c),l=u*u-h*a;if(l<0||h<t.Settings.epsilon)return!1;var p=-(u+Math.sqrt(l));return 0<=p&&p<=i.maxFraction*h&&(p/=h,e.fraction=p,e.normal=es.Vector2.add(s,es.Vector2.multiplyScaler(c,p)),es.Vector2Ext.normalize(e.normal),!0)},i.prototype.computeAABB=function(e,i,r){var n=es.Vector2.add(i.p,t.MathUtils.mul_rv(i.q,this.position));e.lowerBound=new es.Vector2(n.x-this.radius,n.y-this.radius),e.upperBound=new es.Vector2(n.x+this.radius,n.y+this.radius)},i.prototype.computeProperties=function(){var e=t.Settings.pi*this._2radius;this.massData.area=e,this.massData.mass=this.density*e,this.massData.centroid=this.position.clone(),this.massData.inertia=this.massData.mass*(.5*this._2radius+es.Vector2.dot(this.position,this.position))},i.prototype.computeSubmergedArea=function(e,i,r,n){n.x=0,n.y=0;var o=t.MathUtils.mul_tv(r,this.position),s=-(es.Vector2.dot(e,o)-i);if(s<-this.radius+t.Settings.epsilon)return 0;if(s>this.radius)return n=o,t.Settings.pi*this._2radius;var a=s*s,c=this._2radius*(Math.asin(s/this.radius)+t.Settings.pi/2)+s*Math.sqrt(this._2radius-a),u=-2/3*Math.pow(this._2radius-a,1.5)/c;return n.x=o.x+e.x*u,n.y=o.y+e.y*u,c},i.prototype.compareTo=function(t){return this.radius==t.radius&&this.position.equals(t.position)},i.prototype.clone=function(){var t=new i;return t.shapeType=this.shapeType,t._radius=this.radius,t._2radius=this._2radius,t._density=this._density,t._position=this._position,t.massData=this.massData,t},i}(t.Shape);t.CircleShape=e}(physics||(physics={})),function(t){var e=function(e){function i(i,r){var n=e.call(this,0)||this;return n.shapeType=t.ShapeType.edge,n._radius=t.Settings.polygonRadius,i&&r&&n.set(i,r),n}return __extends(i,e),Object.defineProperty(i.prototype,"childCount",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"vertex1",{get:function(){return this._vertex1},set:function(t){this._vertex1=t,this.computeProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"vertex2",{get:function(){return this._vertex2},set:function(t){this._vertex2=t,this.computeProperties()},enumerable:!0,configurable:!0}),i.prototype.set=function(t,e){this._vertex1=t,this._vertex2=e,this.hasVertex0=!1,this.hasVertex3=!1,this.computeProperties()},i.prototype.testPoint=function(t,e){return!1},i.prototype.rayCast=function(e,i,r,n){var o=t.MathUtils.mul_rv(r.q,es.Vector2.subtract(i.point1,r.p)),s=t.MathUtils.mul_rv(r.q,es.Vector2.subtract(i.point2,r.p)),a=es.Vector2.subtract(s,o),c=this._vertex1.clone(),u=this._vertex2.clone(),h=es.Vector2.subtract(u,c),l=new es.Vector2(h.y,-h.x);es.Vector2Ext.normalize(l);var p=es.Vector2.dot(l,es.Vector2.subtract(c,o)),f=es.Vector2.dot(l,a);if(0==f)return!1;var y=p/f;if(y<0||i.maxFraction<y)return!1;var d=es.Vector2.add(o,es.Vector2.multiplyScaler(a,y)),g=es.Vector2.subtract(u,c),v=es.Vector2.dot(g,g);if(0==v)return!1;var b=es.Vector2.dot(es.Vector2.subtract(d,c),g)/v;return!(b<0||1<b)&&(e.fraction=y,e.normal=p>0?new es.Vector2(-l.x,-l.y):l.clone(),!0)},i.prototype.computeAABB=function(e,i,r){var n=t.MathUtils.mul_tv(i,this._vertex1),o=t.MathUtils.mul_tv(i,this._vertex2),s=es.Vector2.min(n,o),a=es.Vector2.max(n,o),c=new es.Vector2(this.radius,this.radius);e.lowerBound=es.Vector2.subtract(s,c),e.upperBound=es.Vector2.add(a,c)},i.prototype.computeProperties=function(){this.massData.centroid=es.Vector2.add(this.vertex1,this.vertex2).multiplyScaler(.5)},i.prototype.computeSubmergedArea=function(t,e,i,r){return r.x=0,r.y=0,0},i.prototype.clone=function(){var t=new i;return t.shapeType=this.shapeType,t._radius=this._radius,t._density=this._density,t.hasVertex0=this.hasVertex0,t.hasVertex3=this.hasVertex3,t.vertex0=this.vertex0,t._vertex1=this._vertex1,t._vertex2=this._vertex2,t.vertex2=this.vertex3,t.massData=this.massData,t},i}(t.Shape);t.EdgeShape=e}(physics||(physics={})),function(t){var e=function(e){function i(i,r){void 0===r&&(r=0);var n=e.call(this,r)||this;return n.shapeType=t.ShapeType.polygon,n._radius=t.Settings.polygonRadius,n._vertices=i||new t.Vertices,n._normals=new t.Vertices,n}return __extends(i,e),Object.defineProperty(i.prototype,"vertices",{get:function(){return this._vertices},set:function(e){this.setVerticesNoCopy(new t.Vertices(e))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"normals",{get:function(){return this._normals},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"childCount",{get:function(){return 1},enumerable:!0,configurable:!0}),i.prototype.setVerticesNoCopy=function(e){console.assert(e.length>=3&&e.length<=t.Settings.maxPolygonVertices),this._vertices=e,t.Settings.useConvexHullPolygons&&(this._vertices.length<=3?this._vertices.forceCounterClockWise():this._vertices=t.GiftWrap.getConvexHull(this._vertices)),null==this._normals?this._normals=new t.Vertices:this._normals.length=0;for(var i=0;i<this._vertices.length;++i){var r=i+1<this._vertices.length?i+1:0,n=es.Vector2.subtract(this._vertices[r],this._vertices[i]);console.assert(n.lengthSquared()>t.Settings.epsilon*t.Settings.epsilon);var o=new es.Vector2(n.y,-n.x);es.Vector2Ext.normalize(o),this._normals.push(o)}this.computeProperties()},i.prototype.computeProperties=function(){if(console.assert(this.vertices.length>=3),!(this._density<=0)){for(var e=es.Vector2.zero,i=0,r=0,n=es.Vector2.zero,o=0;o<this.vertices.length;++o)n.add(this.vertices[o]);n.multiplyScaler(1/this.vertices.length);for(o=0;o<this.vertices.length;++o){var s=es.Vector2.subtract(this.vertices[o],n),a=o+1<this.vertices.length?es.Vector2.subtract(this.vertices[o+1],n):es.Vector2.subtract(this.vertices[0],n),c=t.MathUtils.cross(s,a),u=.5*c;i+=u,e.add(es.Vector2.add(s,a).multiplyScaler(u*(1/3)));var h=s.x,l=s.y,p=a.x,f=a.y;r+=1/3*.25*c*(h*h+p*h+p*p+(l*l+f*l+f*f))}console.assert(i>t.Settings.epsilon),this.massData.area=i,this.massData.mass=this._density*i,e.multiplyScaler(1/i),this.massData.centroid=es.Vector2.add(e,n),this.massData.inertia=this._density*r,this.massData.inertia+=this.massData.mass*(es.Vector2.dot(this.massData.centroid,this.massData.centroid)-es.Vector2.dot(e,e))}},i.prototype.testPoint=function(e,i){for(var r=t.MathUtils.mul_rv(e.q,es.Vector2.subtract(i,e.p)),n=0;n<this.vertices.length;++n){if(es.Vector2.dot(this.normals[n],es.Vector2.subtract(r,this.vertices[n]))>0)return!1}return!0},i.prototype.rayCast=function(e,i,r,n){for(var o=t.MathUtils.mul_rv(r.q,es.Vector2.subtract(i.point1,r.p)),s=t.MathUtils.mul_rv(r.q,es.Vector2.subtract(i.point2,r.p)),a=es.Vector2.subtract(s,o),c=0,u=i.maxFraction,h=-1,l=0;l<this.vertices.length;++l){var p=es.Vector2.dot(this.normals[l],es.Vector2.subtract(this.vertices[l],o)),f=es.Vector2.dot(this.normals[l],a);if(0==f){if(p<0)return!1}else f<0&&p<c*f?(c=p/f,h=l):f>0&&p<u*f&&(u=p/f);if(u<c)return!1}return console.assert(0<=c&&c<=i.maxFraction),h>=0&&(e.fraction=c,e.normal=t.MathUtils.mul_rv(r.q,this.normals[h]),!0)},i.prototype.computeAABB=function(e,i,r){for(var n=t.MathUtils.mul_tv(i,this.vertices[0]),o=n.clone(),s=1;s<this.vertices.length;++s){var a=t.MathUtils.mul_tv(i,this.vertices[s]);n=es.Vector2.min(n,a),o=es.Vector2.max(o,a)}var c=new es.Vector2(this.radius,this.radius);e.lowerBound=es.Vector2.subtract(n,c),e.upperBound=es.Vector2.add(o,c)},i.prototype.computeSubmergedArea=function(e,i,r,n){n.x=0,n.y=0;var o,s=t.MathUtils.mul_rv(r.q,e),a=i-es.Vector2.dot(e,r.p),c=[],u=0,h=-1,l=-1,p=!1;for(o=0;o<this.vertices.length;o++){c[o]=es.Vector2.dot(s,this.vertices[o])-a;var f=c[o]<-t.Settings.epsilon;o>0&&(f?p||(h=o-1,u++):p&&(l=o-1,u++)),p=f}switch(u){case 0:return p?(n=t.MathUtils.mul_tv(r,this.massData.centroid),this.massData.mass/this.density):0;case 1:-1==h?h=this.vertices.length-1:l=this.vertices.length-1}var y=(h+1)%this.vertices.length,d=(l+1)%this.vertices.length,g=(0-c[h])/(c[y]-c[h]),v=(0-c[l])/(c[d]-c[l]),b=new es.Vector2(this.vertices[h].x*(1-g)+this.vertices[y].x*g,this.vertices[h].y*(1-g)+this.vertices[y].y*g),_=new es.Vector2(this.vertices[l].x*(1-v)+this.vertices[d].x*v,this.vertices[l].y*(1-v)+this.vertices[d].y*v),m=0,x=new es.Vector2(0,0),w=this.vertices[y];for(o=y;o!=d;){var V=void 0;V=(o=(o+1)%this.vertices.length)==d?_:this.vertices[o];var C=es.Vector2.subtract(w,b),S=es.Vector2.subtract(V,b),P=.5*t.MathUtils.cross(C,S);m+=P,x.add(es.Vector2.add(b,w).add(V).multiplyScaler(P*(1/3))),w=V.clone()}return x.multiplyScaler(1/m),n=t.MathUtils.mul_tv(r,x),m},i.prototype.clone=function(){var e=new i;return e.shapeType=this.shapeType,e._radius=this._radius,e._density=this._density,e._vertices=new t.Vertices(this._vertices),e._normals=new t.Vertices(this._normals),e.massData=this.massData,e},i}(t.Shape);t.PolygonShape=e}(physics||(physics={})),function(t){var e=function(){function t(){}return t.simToDisplay=100,t.displayToSim=1/t.simToDisplay,t}();t.FSConvert=e}(physics||(physics={})),function(t){var e=function(){function t(){}return t.prototype.get=function(t){switch(t){case 0:return this._value0;case 1:return this._value1;default:throw new Error("index out of range")}},t.prototype.set=function(t,e){switch(t){case 0:this._value0=e;break;case 1:this._value1=e;break;default:throw new Error("index out of range")}},t}();t.FixedArray2=e}(physics||(physics={})),function(t){var e=function(){function t(){}return t.prototype.getTransform=function(t,e){t.p.x=(1-e)*this.c0.x+e*this.c.x,t.p.y=(1-e)*this.c0.y+e*this.c.y;var i=(1-e)*this.a0+e*this.a;t.q.set(i),t.p.subtract(n.mul(t.q,this.localCenter))},t.prototype.advance=function(t){console.assert(this.alpha0<1);var e=(t-this.alpha0)/(1-this.alpha0);this.c0.add(es.Vector2.subtract(this.c,this.c0).multiplyScaler(e)),this.a0+=e*(this.a-this.a0),this.alpha0=t},t.prototype.normalize=function(){var t=2*Math.PI*Math.floor(this.a0/(2*Math.PI));this.a0-=t,this.a-=t},t}();t.Sweep=e;var i=function(){function t(t,e){this.p=t,this.q=e}return t.prototype.setIdentity=function(){this.p=es.Vector2.zero,this.q.setIdentity()},t.prototype.set=function(t,e){this.p=t,this.q.set(e)},t}();t.Transform=i;var r=function(){function t(t){this.s=Math.sin(t),this.c=Math.cos(t)}return t.prototype.set=function(t){0==t?(this.s=0,this.c=1):(this.s=Math.sin(t),this.c=Math.cos(t))},t.prototype.setIdentity=function(){this.s=0,this.c=1},t.prototype.getAngle=function(){return Math.atan2(this.s,this.c)},t.prototype.getXAxis=function(){return new es.Vector2(this.c,this.s)},t.prototype.getYAxis=function(){return new es.Vector2(-this.s,this.c)},t}();t.Rot=r;var n=function(){function t(){}return t.mul=function(t,e){return new es.Vector2(t.c*e.x-t.s*e.y,t.s*e.x+t.c*e.y)},t.mul_tv=function(t,e){var i=t.q.c*e.x-t.q.s*e.y+t.p.x,r=t.q.s*e.x+t.q.c*e.y+t.p.y;return new es.Vector2(i,r)},t.mul_mv=function(t,e){return new es.Vector2(e.x*t.ex.x+e.y*t.ex.y,e.x*t.ey.x+e.y*t.ey.y)},t.mul_rr=function(t,e){var i=new r(0);return i.s=t.c*e.s-t.s*e.c,i.c=t.c*e.c+t.s*e.s,i},t.mul_rv=function(t,e){return new es.Vector2(t.c*e.x+t.s*e.y,-t.s*e.x+t.c*e.y)},t.cross=function(t,e){return t.x*e.y-t.y*e.x},t}();t.MathUtils=n;var o=function(){return function(t,e){this.ex=t,this.ey=e}}();t.Mat22=o}(physics||(physics={})),function(t){!function(t){t[t.noError=0]="noError",t[t.invalidAmountOfVertices=1]="invalidAmountOfVertices",t[t.notSimple=2]="notSimple",t[t.notCounterClockWise=3]="notCounterClockWise",t[t.notConvex=4]="notConvex",t[t.areaTooSmall=5]="areaTooSmall",t[t.sideTooSmall=6]="sideTooSmall"}(t.PolygonError||(t.PolygonError={}));var e=function(e){function i(t){var i,r;void 0===t&&(t=null);var n=e.call(this)||this;if(t)try{for(var o=__values(t),s=o.next();!s.done;s=o.next()){var a=s.value;n.push(a)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return n}return __extends(i,e),i.prototype.nextIndex=function(t){return t+1>this.length-1?0:t+1},i.prototype.nextVertex=function(t){return this[this.nextIndex(t)]},i.prototype.previousIndex=function(t){return t-1<0?this.length-1:t-1},i.prototype.previousVertx=function(t){return this[this.previousIndex(t)]},i.prototype.getSignedArea=function(){if(this.length<3)return 0;var t,e=0;for(t=0;t<this.length;t++){var i=(t+1)%this.length,r=this[t],n=this[i];e+=r.x*n.y,e-=r.y*n.x}return e/=2},i.prototype.getArea=function(){var t=this.getSignedArea();return t<0?-t:t},i.prototype.getCentroid=function(){if(this.length<3)return new es.Vector2(Number.NaN,Number.NaN);for(var t=es.Vector2.zero,e=0,i=0;i<this.length;++i){var r=this[i],n=i+1<this.length?this[i+1]:this[0],o=.5*(r.x*n.y-r.y*n.x);e+=o,t.add(es.Vector2.multiplyScaler(es.Vector2.add(r,n),o*(1/3)))}return t.multiplyScaler(1/e),t},i.prototype.getAABB=function(){for(var e=new es.Vector2(Number.MAX_VALUE,Number.MAX_VALUE),i=new es.Vector2(Number.MIN_VALUE,Number.MIN_VALUE),r=0;r<this.length;++r)this[r].x<e.x&&(e.x=this[r].x),this[r].x>i.x&&(i.x=this[r].x),this[r].y<e.y&&(e.y=this[r].y),this[r].y>i.y&&(i.y=this[r].y);return new t.AABB(e,i)},i.prototype.translate=function(t){var e,i;console.assert(!this.attackedToBody,"平移实体所使用的顶点可能会导致行为不稳定。 使用Body.Position代替 ");for(var r=0;r<this.length;r++)this[r]=es.Vector2.add(this[r],t);if(null!=this.holes&&this.holes.length>0)try{for(var n=__values(this.holes),o=n.next();!o.done;o=n.next()){o.value.translate(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(e)throw e.error}}},i.prototype.scale=function(t){var e,i;console.assert(!this.attackedToBody,"Body使用的缩放顶点会导致行为不稳定 ");for(var r=0;r<this.length;r++)this[r]=es.Vector2.multiply(this[r],t);if(null!=this.holes&&this.holes.length>0)try{for(var n=__values(this.holes),o=n.next();!o.done;o=n.next()){o.value.scale(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(e)throw e.error}}},i.prototype.rotate=function(t){var e,i;console.assert(!this.attackedToBody,"Body使用的旋转顶点可能会导致行为不稳定 ");for(var r=Math.cos(t),n=Math.sin(t),o=0;o<this.length;o++){var s=this[o];this[o]=new es.Vector2(s.x*r+s.y*-n,s.x*n+s.y*r)}if(null!=this.holes&&this.holes.length>0)try{for(var a=__values(this.holes),c=a.next();!c.done;c=a.next()){c.value.rotate(t)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(e)throw e.error}}},i.prototype.isConvex=function(){if(this.length<3)return!1;if(3==this.length)return!0;for(var t=0;t<this.length;++t)for(var e=t+1<this.length?t+1:0,i=es.Vector2.subtract(this[e],this[t]),r=0;r<this.length;++r)if(r!=t&&r!=e){var n=es.Vector2.subtract(this[r],this[t]);if(i.x*n.y-i.y*n.x<=0)return!1}return!0},i.prototype.isCounterClockWise=function(){return!(this.length<3)&&this.getSignedArea()>0},i.prototype.forceCounterClockWise=function(){this.length<3||this.isCounterClockWise()||this.reverse()},i}(Array);t.Vertices=e}(physics||(physics={})),function(t){var e=function(){function e(){}return e.getConvexHull=function(e){if(e.length<=3)return e;for(var i=0,r=e[0].x,n=1;n<e.length;++n){var o=e[n].x;(o>r||o==r&&e[n].y<e[i].y)&&(i=n,r=o)}for(var s=[],a=0,c=i;;){s[a]=c;for(var u=0,h=1;h<e.length;++h)if(u!=c){var l=es.Vector2.subtract(e[u],e[s[a]]),p=es.Vector2.subtract(e[h],e[s[a]]),f=t.MathUtils.cross(l,p);f<0&&(u=h),0==f&&p.lengthSquared()>l.lengthSquared()&&(u=h)}else u=h;if(++a,c=u,u==i)break}var y=new t.Vertices;for(n=0;n<a;++n)y.push(e[s[n]]);return y},e}();t.GiftWrap=e}(physics||(physics={})),function(t){var e=function(){function e(){this.disabledOnCategories=t.Category.none,this.enabledOnCategories=t.Category.all}return e.prototype.isActiveOn=function(e){var i,r;if(null==e||!e.enabled||e.isStatic)return!1;if(null==e.fixtureList)return!1;try{for(var n=__values(e.fixtureList),o=n.next();!o.done;o=n.next()){var s=o.value;if(s.collisionGroup==this.disabledOnGroup&&0!=s.collisionGroup&&0!=this.disabledOnGroup)return!1;if((s.collisionCategories&this.disabledOnCategories)!=t.Category.none)return!1;if(0==this.enabledOnGroup&&this.enabledOnCategories==t.Category.all)return!0;if(s.collisionGroup==this.enabledOnGroup&&0!=s.collisionGroup&&0!=this.enabledOnGroup)return!0;if((s.collisionCategories&this.enabledOnGroup)!=t.Category.none&&this.enabledOnCategories!=t.Category.all)return!0}}catch(t){i={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return!1},e}();t.FilterData=e}(physics||(physics={})),function(t){!function(t){t[t.Explosion=1]="Explosion"}(t.PhysicsLogicType||(t.PhysicsLogicType={}));var e=function(){function t(){}return t.prototype.ignorePhysicsLogic=function(t){this.controllerIgnores|=t},t}();t.PhysicsLogicFilter=e}(physics||(physics={})),function(t){!function(t){t[t.gravityController=1]="gravityController",t[t.velocityLimitController=2]="velocityLimitController",t[t.abstractForceController=4]="abstractForceController",t[t.buoyancyController=8]="buoyancyController"}(t.ControllerType||(t.ControllerType={}));var e=function(){function t(){}return t.prototype.ignoreController=function(t){this.controllerFlags|=t},t.prototype.restoreController=function(t){this.controllerFlags&=~t},t.prototype.isControllerIgnored=function(t){return(this.controllerFlags&t)==t},t}();t.ControllerFilter=e;var i=function(t){function e(e){var i=t.call(this)||this;return i._type=e,i}return __extends(e,t),e.prototype.isActiveOn=function(e){return!e.controllerFilter.isControllerIgnored(this._type)&&t.prototype.isActiveOn.call(this,e)},e}(t.FilterData);t.Controller=i}(physics||(physics={})),function(t){var e;!function(t){t[t.static=0]="static",t[t.kinematic=1]="kinematic",t[t.dynamic=2]="dynamic"}(e=t.BodyType||(t.BodyType={}));var i=function(){function i(t,r,n,o,s){void 0===r&&(r=new es.Vector2),void 0===n&&(n=0),void 0===o&&(o=e.static),void 0===s&&(s=null),this.fixtureList=[],this.bodyId=i._bodyIdCounter++,this._world=t,this._enabled=!0,this._awake=!0,this._sleepingAllowed=!0,this.userData=s,this.gravityScale=1,this.bodyType=o,this._xf.q.set(n),r.equals(es.Vector2.zero)||(this._xf.p=r,this._sweep.c0=this._xf.p,this._sweep.c=this._xf.p),0!=n&&(this._sweep.a0=n,this._sweep.a=n)}return Object.defineProperty(i.prototype,"world",{get:function(){return this._world},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"revolutions",{get:function(){return this.rotation/Math.PI},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bodyType",{get:function(){return this._bodyType},set:function(t){this._bodyType!=t&&(this._bodyType=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"linearVelocity",{get:function(){return this._linearVelocity},set:function(t){console.assert(!Number.isNaN(t.x)&&!Number.isNaN(t.y)),this._bodyType!=e.static&&(es.Vector2.dot(t,t)>0&&(this.isAwake=!0),this._linearVelocity=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"angularVelocity",{get:function(){return this._angularVelocity},set:function(t){console.assert(!Number.isNaN(t)),this._bodyType!=e.static&&(t*t>0&&(this.isAwake=!0),this._angularVelocity=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"linearDamping",{get:function(){return this._linearDamping},set:function(t){console.assert(!Number.isNaN(t)),this._linearDamping=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"angularDamping",{get:function(){return this._angularDamping},set:function(t){console.assert(!Number.isNaN(t)),this._angularDamping=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isSleepingAllowed",{get:function(){return this._sleepingAllowed},set:function(t){t||(this.isAwake=!0),this._sleepingAllowed=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isAwake",{get:function(){return this._awake},set:function(t){t&&(this._awake||(this._sleepTime=0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"enabled",{set:function(t){if(t!=this._enabled&&t)this._world.contactManager.broadPhase},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fixedRotation",{get:function(){return this._fixedRotation},set:function(t){this._fixedRotation!=t&&(this._fixedRotation=t,this._angularVelocity=0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"position",{get:function(){return this._xf.p},set:function(t){console.assert(!Number.isNaN(t.x)&&!Number.isNaN(t.y))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"displayPosition",{get:function(){return es.Vector2.multiplyScaler(this._xf.p,t.FSConvert.simToDisplay)},set:function(e){this.position=es.Vector2.multiplyScaler(e,t.FSConvert.displayToSim)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rotation",{get:function(){return this._sweep.a},set:function(t){console.assert(!Number.isNaN(t))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isStatic",{get:function(){return this._bodyType==e.static},set:function(t){this.bodyType=t?e.static:e.dynamic},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isKinematic",{get:function(){return this._bodyType==e.kinematic},set:function(t){this.bodyType=t?e.kinematic:e.dynamic},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isDynamic",{get:function(){return this._bodyType==e.dynamic},set:function(t){this.bodyType=t?e.dynamic:e.kinematic},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"worldCenter",{get:function(){return this._sweep.c},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"localCenter",{get:function(){return this._sweep.localCenter},set:function(i){if(this._bodyType==e.dynamic){var r=this._sweep.c.clone();this._sweep.localCenter=i,this._sweep.c0=this._sweep.c=t.MathUtils.mul_tv(this._xf,this._sweep.localCenter);var n=es.Vector2.subtract(this._sweep.c,r);this._linearVelocity.add(new es.Vector2(-this._angularVelocity*n.y,this._angularVelocity*n.x))}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mass",{get:function(){return this._mass},set:function(t){console.assert(!Number.isNaN(t)),this._bodyType==e.dynamic&&(this._mass=t,this._mass<=0&&(this._mass=1),this._invMass=1/this._mass)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inertia",{get:function(){return this._inertia+this.mass*es.Vector2.dot(this._sweep.localCenter,this._sweep.localCenter)},set:function(t){console.assert(!Number.isNaN(t)),this._bodyType==e.dynamic&&t>0&&!this._fixedRotation&&(this._inertia=t-this.mass*es.Vector2.dot(this.localCenter,this.localCenter),console.assert(this._inertia>0),this._invI=1/this._inertia)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"restitution",{get:function(){for(var t=0,e=0;e<this.fixtureList.length;e++){t+=this.fixtureList[e].restitution}return this.fixtureList.length>0?t/this.fixtureList.length:0},set:function(t){for(var e=0;e<this.fixtureList.length;e++){this.fixtureList[e].restitution=t}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"friction",{get:function(){for(var t=0,e=0;e<this.fixtureList.length;e++){t+=this.fixtureList[e].friction}return this.fixtureList.length>0?t/this.fixtureList.length:0},set:function(t){for(var e=0;e<this.fixtureList.length;e++){this.fixtureList[e].friction=t}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"collisionCategories",{set:function(t){for(var e=0;e<this.fixtureList.length;e++){this.fixtureList[e].collisionCategories=t}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"collidesWith",{set:function(t){for(var e=0;e<this.fixtureList.length;e++){this.fixtureList[e].collidesWith=t}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ignoreCCDWith",{set:function(t){for(var e=0;e<this.fixtureList.length;e++){this.fixtureList[e].ignoreCCDWith=t}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"collisionGroup",{set:function(t){for(var e=0;e<this.fixtureList.length;e++){this.fixtureList[e].collisionGroup=t}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isSensor",{set:function(t){for(var e=0;e<this.fixtureList.length;e++){this.fixtureList[e].isSensor=t}},enumerable:!0,configurable:!0}),i.prototype.addOnCollision=function(t){for(var e=0;e<this.fixtureList.length;e++)this.fixtureList[e].onCollision.push(t)},i.prototype.removeOnCollision=function(t){for(var e=0;e<this.fixtureList.length;e++)new es.List(this.fixtureList[e].onCollision).remove(t)},i.prototype.addOnSeparation=function(t){for(var e=0;e<this.fixtureList.length;e++)this.fixtureList[e].onSeperation.push(t)},i.prototype.removeOnSeparation=function(t){for(var e=0;e<this.fixtureList.length;e++)new es.List(this.fixtureList[e].onSeperation).remove(t)},i}();t.Body=i}(physics||(physics={})),function(t){var e=function(){function t(t,e,i,r,n){void 0===r&&(r=new es.Vector2),void 0===n&&(n=0),this.parts=[],this.strength=500,this._angularVelocitiesCache=[],this._velocitiesCache=[],this._world=t,this._world.contactManager.onPostSolve.push(this.onPostSolve)}return t.prototype.onPostSolve=function(t,e){if(!this.isBroken){var i=new es.List(this.parts);if(i.contains(t.fixtureA)||i.contains(t.fixtureB)){for(var r=t.manifold.pointCount,n=0;n<r;++n);0>this.strength&&(this._break=!0)}}},t}();t.BreakableBody=e}(physics||(physics={})),function(t){var e=function(){function t(t){this.contactList=[],this.activeContacts=new Set,this.activeList=[],this.broadPhase=t,this.onBroadphaseCollision.push(this.addPair)}return t.prototype.addPair=function(t,e){var i=t.fixture,r=e.fixture,n=t.childIndex,o=e.childIndex,s=i.body,a=r.body;if(s!=a)for(var c=a.contactList;null!=c;){if(c.other==s){var u=c.contact.fixtureA,h=c.contact.fixtureB,l=c.contact.childIndexA,p=c.contact.childIndexB;if(u==i&&h==r&&l==n&&p==o)return;if(u==r&&h==i&&l==o&&p==n)return}c=c.next}},t}();t.ContactManager=e}(physics||(physics={})),function(t){var e=function(){return function(){}}();t.Island=e}(physics||(physics={})),function(t){var e=function(){function e(e){this._tempOverlapCircle=new t.CircleShape,this._stack=[],this._bodyAddList=new Set,this._bodyRemoveList=new Set,this._jointAddList=new Set,this._jointRemoveList=new Set,this._input=new t.TOIInput,this._watch=new es.Stopwatch,this._contactPool=[],this.island=new t.Island,this.enabled=!0,this.controllerList=[],this.breakableBodyList=[],this.bodyList=[],this.jointList=[],this.awakeBodySet=new Set,this.awakeBodyList=[],this.islandSet=new Set,this.TOISet=new Set,this.gravity=e}return Object.defineProperty(e.prototype,"contactList",{get:function(){return this.contactManager.contactList},enumerable:!0,configurable:!0}),e.prototype.queryAABBCallbackWrapper=function(t){},e}();t.World=e}(physics||(physics={})),function(t){var e;!function(t){t[t.notSupported=0]="notSupported",t[t.polygon=1]="polygon",t[t.polygonAndCircle=2]="polygonAndCircle",t[t.circle=3]="circle",t[t.edgeAndPolygon=4]="edgeAndPolygon",t[t.edgeAndCircle=5]="edgeAndCircle",t[t.chainAndPolygon=6]="chainAndPolygon",t[t.chainAndCircle=7]="chainAndCircle"}(e=t.ContactType||(t.ContactType={}));var i=function(){function i(t,e,i,n){this._nodeA=new r,this._nodeB=new r}return i._edge=new t.EdgeShape,i._contactRegisters=[[e.circle,e.edgeAndCircle,e.polygonAndCircle,e.chainAndCircle],[e.edgeAndCircle,e.notSupported,e.edgeAndCircle,e.notSupported],[e.polygonAndCircle,e.edgeAndPolygon,e.polygon,e.chainAndPolygon],[e.chainAndCircle,e.notSupported,e.chainAndPolygon,e.notSupported]],i}();t.Contact=i;var r=function(){return function(){}}();t.ContactEdge=r}(physics||(physics={})),function(t){var e=function(){return function(){}}();t.ContactVelocityConstraint=e}(physics||(physics={})),function(t){var e;!function(t){t[t.unknown=0]="unknown",t[t.revolute=1]="revolute",t[t.prismatic=2]="prismatic",t[t.distance=3]="distance",t[t.pulley=4]="pulley",t[t.gear=5]="gear",t[t.wheel=6]="wheel",t[t.weld=7]="weld",t[t.friction=8]="friction",t[t.rope=9]="rope",t[t.motor=10]="motor",t[t.angle=11]="angle",t[t.fixedMouse=12]="fixedMouse"}(e=t.JointType||(t.JointType={})),function(t){t[t.inactive=0]="inactive",t[t.atLower=1]="atLower",t[t.atUpper=2]="atUpper",t[t.equal=3]="equal"}(t.LimitState||(t.LimitState={}));var i=function(){return function(){}}();t.JointEdge=i;var r=function(){function t(t,e){this.enabled=!0,this.edgeA=new i,this.edgeB=new i,t&&e?(console.assert(t!=e),this.bodyA=t,this.bodyB=e):t&&(this.bodyA=t),this.breakpoint=Number.MAX_VALUE,this.collideConnected=!1}return Object.defineProperty(t.prototype,"breakpoint",{get:function(){return this._breakpoint},set:function(t){this._breakpoint=t,this._breakpointSquared=this._breakpoint*this._breakpoint},enumerable:!0,configurable:!0}),t.prototype.wakeBodies=function(){null!=this.bodyA&&(this.bodyA.isAwake=!0),null!=this.bodyB&&(this.bodyB.isAwake=!0)},t.prototype.isFixedType=function(){return this.jointType==e.fixedMouse||this.bodyA.isStatic||this.bodyB.isStatic},t}();t.Joint=r}(physics||(physics={}));